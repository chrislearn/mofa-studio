<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
</head>

<body>
    <div class="mermaid">
        flowchart TB
  doubao-asr["**doubao-asr**"]
  doubao-tts["**doubao-tts**"]
  english-teacher["**english-teacher**"]
  grammar-checker["**grammar-checker**"]
  history-db-writer["**history-db-writer**"]
  learning-db-writer["**learning-db-writer**"]
  mofa-audio-player["**mofa-audio-player**"]
  mofa-chat-display["**mofa-chat-display**"]
  mofa-mic-input[\"**mofa-mic-input**"/]
  mofa-system-log[/"**mofa-system-log**"\]
  mofa-text-input[\"**mofa-text-input**"/]
  mofa-mic-input -- audio --> doubao-asr
  english-teacher -- text --> doubao-tts
  doubao-asr -- text as asr_text --> english-teacher
  mofa-text-input -- text as text_input --> english-teacher
  doubao-asr -- text as asr_text --> grammar-checker
  mofa-text-input -- text as text_input --> grammar-checker
  english-teacher -- text as ai_text --> history-db-writer
  doubao-asr -- text as asr_text --> history-db-writer
  grammar-checker -- analysis --> learning-db-writer
  mofa-mic-input -- audio as audio_myself --> mofa-audio-player
  doubao-tts -- audio as audio_teacher --> mofa-audio-player
  english-teacher -- text as ai_text --> mofa-chat-display
  grammar-checker -- analysis --> mofa-chat-display
  mofa-text-input -- text as text_input --> mofa-chat-display
  doubao-asr -- text as user_text --> mofa-chat-display
  doubao-asr -- log as asr_log --> mofa-system-log
  doubao-asr -- status as asr_status --> mofa-system-log
  mofa-audio-player -- log as audio_player_log --> mofa-system-log
  mofa-audio-player -- status as audio_player_status --> mofa-system-log
  grammar-checker -- log as grammar_log --> mofa-system-log
  grammar-checker -- status as grammar_status --> mofa-system-log
  history-db-writer -- log as history_db_log --> mofa-system-log
  history-db-writer -- status as history_db_status --> mofa-system-log
  learning-db-writer -- log as learning_db_log --> mofa-system-log
  learning-db-writer -- status as learning_db_status --> mofa-system-log
  english-teacher -- log as teacher_log --> mofa-system-log
  english-teacher -- status as teacher_status --> mofa-system-log
  english-teacher -- text as teacher_text --> mofa-system-log
  doubao-tts -- log as tts_log --> mofa-system-log
  doubao-tts -- status as tts_status --> mofa-system-log

    </div>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true, securityLevel: 'loose', theme: 'base' });
    </script>
</body>

</html>
